<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/fontawesome.min.css"
      integrity="sha384-zIaWifL2YFF1qaDiAo0JFgsmasocJ/rqu7LKYH8CoBEXqGbb9eO+Xi3s6fQhgFWM"
      crossorigin="anonymous"
    />
    <script src="customErrorChecker.js" type="text/javascript"></script>
  </head>
  <body class="p-3">
    <fieldset class="container">
      <legend>Form Title</legend>

      <!-- INPUT 1 -->
      <div class="form-group my-3">
        <div class="row">
          <label>First Name</label>
          <input
            type="text"
            name="fName"
            id="fNameId"
            placeholder="Custom Error Message"
          />
        </div>
        <div class="text-danger txt-err"></div>
      </div>

      <!-- INPUT 2 -->
      <div class="form-group my-3">
        <div class="row">
          <label>Last Name</label>
          <input
            type="text"
            name="lName"
            id="lNameId"
            placeholder="Default Error Message"
          />
        </div>
        <div class="text-danger txt-err"></div>
      </div>

      <!-- INPUT  -->
      <div class="form-group my-3">
        <div class="row">
          <label>Age</label>
          <input
            type="number"
            name="age"
            id="ageId"
            placeholder="Default Error Message"
          />
        </div>
        <div class="text-danger txt-err"></div>
      </div>

      <!-- INPUT 4 -->
      <div class="form-group my-3">
        <div class="row">
          <label> Upload Pdf </label>
          <div class="input-group">
            <div class="custom-file">
              <input
                type="file"
                class="custom-file-input"
                id="uploadId"
                name="upload"
              />
            </div>
          </div>
          <span class="text-danger txt-err"></span>
        </div>
      </div>
    </fieldset>
  </body>
  <script>
    let cusRule = {
      fName: {
        required: true,
        regex: "^[a-zA-Z ]+(([',.@ -][a-zA-Z ])?[a-zA-Z]*)*$",
      },
      lName: {
        required: false,
        regex: "^[a-zA-Z ]+(([',.@ -][a-zA-Z ])?[a-zA-Z]*)*$",
      },
      age: {
        required: true,
        min: 15,
      },
      upload: {
        required: true,
        filePdf: true,
      },
    };
    let cusMsg = {
      fName: {
        required: "Custom Message: Name is required.",
        regex: "Custom Message: Format accepted: 'A-Z, and (.,@-') symbols.",
      },
    };

    $(document).ready(function () {
      $("#fNameId, #lNameId, #uploadId, #ageId").change(function () {
        var err_count = $(this).findError({
          rules: cusRule,
          messages: cusMsg,
        });

        console.log(`err_count: ${err_count}`)
      });
    });
  </script>
</html>
